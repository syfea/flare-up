nv.addGraph(function () {
    function e(e) {
        return i < e.length - 1 ? (e[i].y < e[i].end ? (e[i].y++, e[e.length - 1].y--, a.title(l + 1 + " articles"), l++) : i++, void(r[0][0] ? a.update() : clearInterval(d))) : (e.splice(e.length - 1, 1), void clearInterval(d))
    }

    var t = .86, n = 1.02, a = nv.models.pieChart().x(function (e) {
        return e.key
    }).y(function (e) {
        return e.y
    }).showLabels(!1).donut(!0).growOnHover(!0).padAngle(.04).cornerRadius(0).margin({
        left: -10,
        right: -10,
        top: -10,
        bottom: -10
    }).color(colors).arcsRadius([{inner: t, outer: n}, {inner: t, outer: n}, {inner: t, outer: n}, {
        inner: t,
        outer: n
    }, {inner: t, outer: n}]).showLegend(!1).title("0 articles").titleOffset(10);
    a.tooltip.enabled(!0).hideDelay(0).headerEnabled(!1).contentGenerator(function (e) {
        return null === e ? "" : (d3.selectAll(".nvtooltip").classed("mdl-tooltip", !0), e.data.y + " articles")
    });
    var r = d3.select(".pie-chart__container").append("div").append("svg").datum(data).transition().duration(1200).call(a), l = 0, i = 0, d = setInterval(e, 70, data);
    d3.select(".nv-pie .nv-pie").attr("transform","translate(-15,-35)");var o=d3.scale.ordinal().range(colors),s=d3.select(".pie-chart__container").append("div").attr("class","legend").selectAll(".legend__item").data(data.slice(0,data.length-1)).enter().append("div").attr("class","legend__item");return s.append("div").attr("class","legend__mark pull-left").style("background-color",function(e){return o(e.key)}),s.append("div").attr("class","legend__text").text(function(e){return e.key}),a});


//Donut chart example
nv.addGraph(function() {
    var chart = nv.models.pieChart()
        .x(function(d) { return d.label })
        .y(function(d) { return d.value })
        .showLabels(true)     //Display pie labels
        .labelThreshold(.05)  //Configure the minimum slice size for labels to show up
        .labelType("percent") //Configure what type of data to show in the label. Can be "key", "value" or "percent"
    //Configure how big you want the donut hole size to be.
        ;

    d3.select("#chart2 svg")
        .datum(exampleData())
        .transition().duration(350)
        .call(chart);

    return chart;
});